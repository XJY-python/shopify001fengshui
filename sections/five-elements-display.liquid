{{ 'component-card.css' | asset_url | stylesheet_tag }}
{{ 'component-price.css' | asset_url | stylesheet_tag }}
{{ 'section-related-products.css' | asset_url | stylesheet_tag }}
{% schema %}
{
  "name": "Promotion Section",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "inline_richtext",
      "id": "heading",
      "default": "Promotion Section",
      "label": "标题"
    },
    {
      "type": "select",
      "id": "heading_size",
      "options": [
        {
          "value": "h2",
          "label": "H2"
        },
        {
          "value": "h1",
          "label": "H1"
        },
        {
          "value": "h0",
          "label": "H0"
        },
        {
          "value": "hxl",
          "label": "HXL"
        },
        {
          "value": "hxxl",
          "label": "HXXL"
        }
      ],
      "default": "h1",
      "label": "标题大小"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "颜色方案",
      "info": "影响背景和文本颜色",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "边距设置"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "上边距",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "下边距",
      "default": 36
    }
  ]
}
{% endschema %}

{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }

  .element-box {
    transition: all 0.3s ease;
    transform-origin: left center;
  }
  .element-box:hover {
    transform: scale(1.03);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  }
  .product-panel {
    transition: opacity 0.5s ease;
  }
  .product-card {
    transition: all 0.2s ease;
  }
  .product-card:hover {
    transform: translateY(-5px);
  }
  .element-icon {
    font-size: 2rem;
  }
  @media (max-width: 768px) {
    .main-container {
      flex-direction: column;
    }
    .elements-panel, .products-panel {
      width: 100% !important;
    }
    .elements-panel {
      flex-direction: row;
      overflow-x: auto;
      padding-bottom: 1rem;
    }
    .element-box {
      min-width: 150px;
      margin-right: 1rem;
    }
  }
  
  /* Element colors */
  .bg-metal { background-color: #a8a8a8; }
  .text-metal { color: #a8a8a8; }
  .border-metal { border-color: #a8a8a8; }
  
  .bg-wood { background-color: #8B5A2B; }
  .text-wood { color: #8B5A2B; }
  .border-wood { border-color: #8B5A2B; }
  
  .bg-water { background-color: #3B82F6; }
  .text-water { color: #3B82F6; }
  .border-water { border-color: #3B82F6; }
  
  .bg-fire { background-color: #EF4444; }
  .text-fire { color: #EF4444; }
  .border-fire { border-color: #EF4444; }
  
  .bg-earth { background-color: #B7791F; }
  .text-earth { color: #B7791F; }
  .border-earth { border-color: #B7791F; }
{%- endstyle -%}

<div class="color-{{ section.settings.color_scheme }} gradient">
  <div class="five-elements-display page-width section-{{ section.id }}-padding isolate{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}">
    <h2 class="five-elements-display__heading inline-richtext {{ section.settings.heading_size }}">
      {{ section.settings.heading }}
    </h2>
    
    <div class="main-container flex flex-col md:flex-row bg-white rounded-xl shadow-lg overflow-hidden mt-6">
      <!-- Left Panel - Elements -->
      <div class="elements-panel w-full md:w-1/3 p-6 bg-gradient-to-b from-gray-50 to-gray-100 flex flex-col space-y-4">
        <div class="element-box bg-white p-4 rounded-lg border-l-4 border-metal cursor-pointer" 
             data-element="metal">
          <div class="flex items-center">
            <div class="element-icon text-metal mr-3">
              <i class="fas fa-gem"></i>
            </div>
            <div>
              <h3 class="font-bold text-lg">金 (Metal)</h3>
              <p class="text-sm text-gray-600">代表财富、坚固和精确</p>
            </div>
          </div>
          <!-- Metal categories (hidden by default) -->
          <div id="metal-categories" class="mt-3 hidden">
            <div class="flex flex-wrap gap-2 mt-2">
              <span class="px-3 py-1 bg-metal bg-opacity-10 text-metal rounded-full text-sm cursor-pointer category-tag" data-category="手链">手链</span>
              <span class="px-3 py-1 bg-metal bg-opacity-10 text-metal rounded-full text-sm cursor-pointer category-tag" data-category="吊坠">吊坠</span>
              <span class="px-3 py-1 bg-metal bg-opacity-10 text-metal rounded-full text-sm cursor-pointer category-tag" data-category="木制品">木制品</span>
            </div>
          </div>
        </div>

        <div class="element-box bg-white p-4 rounded-lg border-l-4 border-wood cursor-pointer" 
             data-element="wood">
          <div class="flex items-center">
            <div class="element-icon text-wood mr-3">
              <i class="fas fa-leaf"></i>
            </div>
            <div>
              <h3 class="font-bold text-lg">木 (Wood)</h3>
              <p class="text-sm text-gray-600">象征生长、创造和活力</p>
            </div>
          </div>
          <!-- Wood categories (hidden by default) -->
          <div id="wood-categories" class="mt-3 hidden">
            <div class="flex flex-wrap gap-2 mt-2">
              <span class="px-3 py-1 bg-wood bg-opacity-10 text-wood rounded-full text-sm cursor-pointer category-tag" data-category="手链">手链</span>
              <span class="px-3 py-1 bg-wood bg-opacity-10 text-wood rounded-full text-sm cursor-pointer category-tag" data-category="吊坠">吊坠</span>
              <span class="px-3 py-1 bg-wood bg-opacity-10 text-wood rounded-full text-sm cursor-pointer category-tag" data-category="木制品">木制品</span>
            </div>
          </div>
        </div>

        <div class="element-box bg-white p-4 rounded-lg border-l-4 border-water cursor-pointer" 
             data-element="water">
          <div class="flex items-center">
            <div class="element-icon text-water mr-3">
              <i class="fas fa-tint"></i>
            </div>
            <div>
              <h3 class="font-bold text-lg">水 (Water)</h3>
              <p class="text-sm text-gray-600">代表流动、智慧和适应</p>
            </div>
          </div>
          <!-- Water categories (hidden by default) -->
          <div id="water-categories" class="mt-3 hidden">
            <div class="flex flex-wrap gap-2 mt-2">
              <span class="px-3 py-1 bg-water bg-opacity-10 text-water rounded-full text-sm cursor-pointer category-tag" data-category="手链">手链</span>
              <span class="px-3 py-1 bg-water bg-opacity-10 text-water rounded-full text-sm cursor-pointer category-tag" data-category="吊坠">吊坠</span>
              <span class="px-3 py-1 bg-water bg-opacity-10 text-water rounded-full text-sm cursor-pointer category-tag" data-category="木制品">木制品</span>
            </div>
          </div>
        </div>

        <div class="element-box bg-white p-4 rounded-lg border-l-4 border-fire cursor-pointer" 
             data-element="fire">
          <div class="flex items-center">
            <div class="element-icon text-fire mr-3">
              <i class="fas fa-fire"></i>
            </div>
            <div>
              <h3 class="font-bold text-lg">火 (Fire)</h3>
              <p class="text-sm text-gray-600">象征热情、能量和变革</p>
            </div>
          </div>
          <!-- Fire categories (hidden by default) -->
          <div id="fire-categories" class="mt-3 hidden">
            <div class="flex flex-wrap gap-2 mt-2">
              <span class="px-3 py-1 bg-fire bg-opacity-10 text-fire rounded-full text-sm cursor-pointer category-tag" data-category="手链">手链</span>
              <span class="px-3 py-1 bg-fire bg-opacity-10 text-fire rounded-full text-sm cursor-pointer category-tag" data-category="吊坠">吊坠</span>
              <span class="px-3 py-1 bg-fire bg-opacity-10 text-fire rounded-full text-sm cursor-pointer category-tag" data-category="木制品">木制品</span>
            </div>
          </div>
        </div>

        <div class="element-box bg-white p-4 rounded-lg border-l-4 border-earth cursor-pointer" 
             data-element="earth">
          <div class="flex items-center">
            <div class="element-icon text-earth mr-3">
              <i class="fas fa-mountain"></i>
            </div>
            <div>
              <h3 class="font-bold text-lg">土 (Earth)</h3>
              <p class="text-sm text-gray-600">代表稳定、滋养和基础</p>
            </div>
          </div>
          <!-- Earth categories (hidden by default) -->
          <div id="earth-categories" class="mt-3 hidden">
            <div class="flex flex-wrap gap-2 mt-2">
              <span class="px-3 py-1 bg-earth bg-opacity-10 text-earth rounded-full text-sm cursor-pointer category-tag" data-category="手链">手链</span>
              <span class="px-3 py-1 bg-earth bg-opacity-10 text-earth rounded-full text-sm cursor-pointer category-tag" data-category="吊坠">吊坠</span>
              <span class="px-3 py-1 bg-earth bg-opacity-10 text-earth rounded-full text-sm cursor-pointer category-tag" data-category="木制品">木制品</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Panel - Products -->
      <div class="products-panel w-full md:w-2/3 p-6">
        <!-- Default Message -->
        <div id="default-message" class="h-full flex flex-col items-center justify-center text-center py-12">
          <div class="w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-6">
            <i class="fas fa-hand-pointer text-4xl text-gray-400"></i>
          </div>
          <h3 class="text-2xl font-bold text-gray-700 mb-2">选择五行元素</h3>
          <p class="text-gray-500 max-w-md">将鼠标悬停在左侧的元素上，查看相关产品集合</p>
        </div>

        <!-- Metal Products -->
        <div id="metal-products" class="product-panel hidden opacity-0">
          <div class="flex items-center mb-6">
            <div class="w-10 h-10 bg-metal bg-opacity-20 rounded-full flex items-center justify-center mr-3">
              <i class="fas fa-gem text-metal"></i>
            </div>
            <h2 class="text-2xl font-bold text-metal">金属产品</h2>
          </div>
          <div class="mb-6">
            <h3 class="text-lg font-semibold text-gray-700 mb-3">产品分类</h3>
            <div class="flex space-x-4 product-categories">
              <span class="px-4 py-2 bg-metal bg-opacity-10 text-metal rounded-full cursor-pointer hover:bg-opacity-20">手链</span>
              <span class="px-4 py-2 bg-metal bg-opacity-10 text-metal rounded-full cursor-pointer hover:bg-opacity-20">吊坠</span>
              <span class="px-4 py-2 bg-metal bg-opacity-10 text-metal rounded-full cursor-pointer hover:bg-opacity-20">木制品</span>
            </div>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-metal bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-bracelet text-5xl text-metal"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">纯金手链</h3>
                <p class="text-gray-600 text-sm mb-2">18K金，精致工艺</p>
                <p class="text-metal font-bold">¥1,288</p>
              </div>
            </div>
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-metal bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-pendant text-5xl text-metal"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">翡翠吊坠</h3>
                <p class="text-gray-600 text-sm mb-2">天然A货翡翠，925银托</p>
                <p class="text-metal font-bold">¥888</p>
              </div>
            </div>
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-metal bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-chess-knight text-5xl text-metal"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">檀木象棋</h3>
                <p class="text-gray-600 text-sm mb-2">手工雕刻，金属包边</p>
                <p class="text-metal font-bold">¥328</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Wood Products -->
        <div id="wood-products" class="product-panel hidden opacity-0">
          <div class="flex items-center mb-6">
            <div class="w-10 h-10 bg-wood bg-opacity-20 rounded-full flex items-center justify-center mr-3">
              <i class="fas fa-leaf text-wood"></i>
            </div>
            <h2 class="text-2xl font-bold text-wood">木系产品</h2>
          </div>
          <div class="mb-6">
            <h3 class="text-lg font-semibold text-gray-700 mb-3">产品分类</h3>
            <div class="flex space-x-4 product-categories">
              <span class="px-4 py-2 bg-wood bg-opacity-10 text-wood rounded-full cursor-pointer hover:bg-opacity-20">手链</span>
              <span class="px-4 py-2 bg-wood bg-opacity-10 text-wood rounded-full cursor-pointer hover:bg-opacity-20">吊坠</span>
              <span class="px-4 py-2 bg-wood bg-opacity-10 text-wood rounded-full cursor-pointer hover:bg-opacity-20">木制品</span>
            </div>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-wood bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-tree text-5xl text-wood"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">实木茶盘</h3>
                <p class="text-gray-600 text-sm mb-2">天然黑胡桃木，手工雕刻</p>
                <p class="text-wood font-bold">¥328</p>
              </div>
            </div>
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-wood bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-spa text-5xl text-wood"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">绿植盆栽</h3>
                <p class="text-gray-600 text-sm mb-2">净化空气，美化环境</p>
                <p class="text-wood font-bold">¥88</p>
              </div>
            </div>
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-wood bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-book text-5xl text-wood"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">竹制笔记本</h3>
                <p class="text-gray-600 text-sm mb-2">环保材质，书写顺滑</p>
                <p class="text-wood font-bold">¥45</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Water Products -->
        <div id="water-products" class="product-panel hidden opacity-0">
          <div class="flex items-center mb-6">
            <div class="w-10 h-10 bg-water bg-opacity-20 rounded-full flex items-center justify-center mr-3">
              <i class="fas fa-tint text-water"></i>
            </div>
            <h2 class="text-2xl font-bold text-water">水系产品</h2>
          </div>
          <div class="mb-6">
            <h3 class="text-lg font-semibold text-gray-700 mb-3">产品分类</h3>
            <div class="flex space-x-4 product-categories">
              <span class="px-4 py-2 bg-water bg-opacity-10 text-water rounded-full cursor-pointer hover:bg-opacity-20">手链</span>
              <span class="px-4 py-2 bg-water bg-opacity-10 text-water rounded-full cursor-pointer hover:bg-opacity-20">吊坠</span>
              <span class="px-4 py-2 bg-water bg-opacity-10 text-water rounded-full cursor-pointer hover:bg-opacity-20">木制品</span>
            </div>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-water bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-wine-glass-alt text-5xl text-water"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">玻璃茶具套装</h3>
                <p class="text-gray-600 text-sm mb-2">高硼硅玻璃，耐热防爆</p>
                <p class="text-water font-bold">¥198</p>
              </div>
            </div>
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-water bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-fish text-5xl text-water"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">海水鱼缸</h3>
                <p class="text-gray-600 text-sm mb-2">完整生态系统，观赏性强</p>
                <p class="text-water font-bold">¥1,288</p>
              </div>
            </div>
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-water bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-spa text-5xl text-water"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">精油香薰</h3>
                <p class="text-gray-600 text-sm mb-2">海洋香调，舒缓身心</p>
                <p class="text-water font-bold">¥128</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Fire Products -->
        <div id="fire-products" class="product-panel hidden opacity-0">
          <div class="flex items-center mb-6">
            <div class="w-10 h-10 bg-fire bg-opacity-20 rounded-full flex items-center justify-center mr-3">
              <i class="fas fa-fire text-fire"></i>
            </div>
            <h2 class="text-2xl font-bold text-fire">火系产品</h2>
          </div>
          <div class="mb-6">
            <h3 class="text-lg font-semibold text-gray-700 mb-3">产品分类</h3>
            <div class="flex space-x-4 product-categories">
              <span class="px-4 py-2 bg-fire bg-opacity-10 text-fire rounded-full cursor-pointer hover:bg-opacity-20">手链</span>
              <span class="px-4 py-2 bg-fire bg-opacity-10 text-fire rounded-full cursor-pointer hover:bg-opacity-20">吊坠</span>
              <span class="px-4 py-2 bg-fire bg-opacity-10 text-fire rounded-full cursor-pointer hover:bg-opacity-20">木制品</span>
            </div>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-fire bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-mug-hot text-5xl text-fire"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">辣椒酱礼盒</h3>
                <p class="text-gray-600 text-sm mb-2">五种辣度，挑战味蕾</p>
                <p class="text-fire font-bold">¥98</p>
              </div>
            </div>
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-fire bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-candle-holder text-5xl text-fire"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">香薰蜡烛</h3>
                <p class="text-gray-600 text-sm mb-2">天然大豆蜡，持久燃烧</p>
                <p class="text-fire font-bold">¥68</p>
              </div>
            </div>
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-fire bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-tshirt text-5xl text-fire"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">红色丝绸围巾</h3>
                <p class="text-gray-600 text-sm mb-2">100%桑蚕丝，喜庆吉祥</p>
                <p class="text-fire font-bold">¥258</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Earth Products -->
        <div id="earth-products" class="product-panel hidden opacity-0">
          <div class="flex items-center mb-6">
            <div class="w-10 h-10 bg-earth bg-opacity-20 rounded-full flex items-center justify-center mr-3">
              <i class="fas fa-mountain text-earth"></i>
            </div>
            <h2 class="text-2xl font-bold text-earth">土系产品</h2>
          </div>
          <div class="mb-6">
            <h3 class="text-lg font-semibold text-gray-700 mb-3">产品分类</h3>
            <div class="flex space-x-4 product-categories">
              <span class="px-4 py-2 bg-earth bg-opacity-10 text-earth rounded-full cursor-pointer hover:bg-opacity-20">手链</span>
              <span class="px-4 py-2 bg-earth bg-opacity-10 text-earth rounded-full cursor-pointer hover:bg-opacity-20">吊坠</span>
              <span class="px-4 py-2 bg-earth bg-opacity-10 text-earth rounded-full cursor-pointer hover:bg-opacity-20">木制品</span>
            </div>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-earth bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-mug text-5xl text-earth"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">紫砂茶壶</h3>
                <p class="text-gray-600 text-sm mb-2">宜兴原矿，手工制作</p>
                <p class="text-earth font-bold">¥388</p>
              </div>
            </div>
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-earth bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-seedling text-5xl text-earth"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">有机五谷杂粮</h3>
                <p class="text-gray-600 text-sm mb-2">无添加，营养丰富</p>
                <p class="text-earth font-bold">¥58</p>
              </div>
            </div>
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-earth bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-chess-rook text-5xl text-earth"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">陶瓷摆件</h3>
                <p class="text-gray-600 text-sm mb-2">手工陶艺，家居装饰</p>
                <p class="text-earth font-bold">¥168</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Add event listeners to element boxes
    document.querySelectorAll('.element-box').forEach(box => {
      box.addEventListener('mouseenter', function() {
        const element = this.dataset.element;
        showProducts(element);
        
        // Show categories on hover
        const categories = document.getElementById(`${element}-categories`);
        if (categories) {
          categories.classList.remove('hidden');
        }
      });
      
      // Hide categories when mouse leaves
      box.addEventListener('mouseleave', function() {
        const element = this.dataset.element;
        const categories = document.getElementById(`${element}-categories`);
        if (categories) {
          categories.classList.add('hidden');
        }
      });
    });

    function showProducts(element) {
      // Hide all product panels and default message
      document.querySelectorAll('.product-panel').forEach(panel => {
        panel.classList.add('hidden');
        panel.classList.remove('opacity-100');
        panel.classList.add('opacity-0');
      });
      document.getElementById('default-message').classList.add('hidden');

      // Show the selected product panel
      const productPanel = document.getElementById(`${element}-products`);
      if (productPanel) {
        productPanel.classList.remove('hidden');
        setTimeout(() => {
          productPanel.classList.remove('opacity-0');
          productPanel.classList.add('opacity-100');
        }, 10);
      }
    }

    // Add event listeners for category tags
    document.querySelectorAll('.category-tag').forEach(tag => {
      tag.addEventListener('click', function() {
        const element = this.closest('.element-box').dataset.element;
        const category = this.dataset.category;
        filterProducts(element, category);
      });
    });

    // Add event listeners for category spans in product panels
    document.querySelectorAll('.product-categories span').forEach(span => {
      span.addEventListener('click', function() {
        const element = this.closest('.product-panel').id.replace('-products', '');
        const category = this.textContent;
        filterProducts(element, category);
      });
    });

    function filterProducts(element, category) {
      // Show all products for the element first
      showProducts(element);
      
      // Get all product cards in the current element panel
      const productCards = document.querySelectorAll(`#${element}-products .product-card`);
      
      // Filter and show only matching category
      productCards.forEach(card => {
        const cardText = card.querySelector('h3').textContent;
        const cardCategory = card.querySelector('.text-gray-600').textContent;
        
        if (cardCategory.includes(category) || cardText.includes(category)) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
      
      // Update the category display in the header
      const categorySpans = document.querySelectorAll(`#${element}-products .product-categories span`);
      categorySpans.forEach(span => {
        if (span.textContent === category) {
          span.classList.add('bg-opacity-30');
          span.classList.add('font-semibold');
        } else {
          span.classList.remove('bg-opacity-30');
          span.classList.remove('font-semibold');
        }
      });
    }

    // Add event listeners for reset buttons
    document.querySelectorAll('.reset-filter').forEach(button => {
      button.addEventListener('click', function() {
        const element = this.closest('.product-panel').id.replace('-products', '');
        showProducts(element);
        
        // Show all product cards
        const productCards = document.querySelectorAll(`#${element}-products .product-card`);
        productCards.forEach(card => {
          card.style.display = 'block';
        });
      });
    });
  });
</script>