{{ 'component-card.css' | asset_url | stylesheet_tag }}
{{ 'component-price.css' | asset_url | stylesheet_tag }}
{{ 'section-related-products.css' | asset_url | stylesheet_tag }}
{{ 'font-awesome.css' | asset_url | stylesheet_tag }}
{{ 'tailwind-utils.js' | asset_url | script_tag }}

{%- style -%}
  .section-{{ section.id }}-padding {
    padding-top: {{ section.settings.padding_top | times: 0.75 | round: 0 }}px;
    padding-bottom: {{ section.settings.padding_bottom | times: 0.75 | round: 0 }}px;
  }

  @media screen and (min-width: 750px) {
    .section-{{ section.id }}-padding {
      padding-top: {{ section.settings.padding_top }}px;
      padding-bottom: {{ section.settings.padding_bottom }}px;
    }
  }

  .element-box {
    transition: all 0.3s ease;
    transform-origin: left center;
    position: relative;
  }
  .element-box:hover {
    transform: scale(1.03);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  }
  .element-box:hover .category-tags {
    opacity: 1;
    transform: translateY(0);
    pointer-events: auto;
  }
  .category-tags {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: white;
    border-radius: 0.5rem;
    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1);
    padding: 0.75rem;
    margin-top: 0.5rem;
    opacity: 0;
    transform: translateY(-10px);
    transition: all 0.3s ease;
    pointer-events: none;
    z-index: 100; /* Highest z-index to ensure it appears above everything */
  }
  /* Add margin to element boxes to prevent overlap */
  .element-box {
    margin-bottom: 6rem; /* Reserve space for dropdown */
    position: relative;
  }
  .element-box:last-child {
    margin-bottom: 0;
  }
  /* Add spacing between elements to prevent dropdown overlap */
  .elements-panel {
    gap: 2rem; /* Gap between element boxes for dropdown space */
  }
  .category-tag {
    display: block;
    width: 100%;
    text-align: center;
    padding: 0.5rem;
    margin-bottom: 0.25rem;
    border-radius: 0.375rem;
    transition: all 0.2s ease;
    font-size: 0.875rem;
  }
  .category-tag:hover {
    transform: translateX(5px);
  }
  .category-tag:last-child {
    margin-bottom: 0;
  }
  .product-panel {
    transition: opacity 0.5s ease;
  }
  .product-card {
    transition: all 0.2s ease;
  }
  .product-card:hover {
    transform: translateY(-5px);
  }
  .element-icon {
    font-size: 2rem;
  }
  @media (max-width: 768px) {
    .main-container {
      flex-direction: column;
    }
    .elements-panel, .products-panel {
      width: 100% !important;
    }
    .elements-panel {
      flex-direction: row;
      overflow-x: auto;
      padding-bottom: 1rem;
    }
    .element-box {
      min-width: 150px;
      margin-right: 1rem;
    }
  }
  
  /* Element colors */
  .bg-metal { background-color: #a8a8a8; }
  .text-metal { color: #a8a8a8; }
  .border-metal { border-color: #a8a8a8; }
  
  .bg-wood { background-color: #8B5A2B; }
  .text-wood { color: #8B5A2B; }
  .border-wood { border-color: #8B5A2B; }
  
  .bg-water { background-color: #3B82F6; }
  .text-water { color: #3B82F6; }
  .border-water { border-color: #3B82F6; }
  
  .bg-fire { background-color: #EF4444; }
  .text-fire { color: #EF4444; }
  .border-fire { border-color: #EF4444; }
  
  .bg-earth { background-color: #B7791F; }
  .text-earth { color: #B7791F; }
  .border-earth { border-color: #B7791F; }
{%- endstyle -%}

<style>
  /* Tailwind-like utility classes */
  .flex { display: flex; }
  .flex-col { flex-direction: column; }
  .flex-row { flex-direction: row; }
  .items-center { align-items: center; }
  .justify-center { justify-content: center; }
  .space-y-4 > * + * { margin-top: 1rem; }
  .space-x-4 > * + * { margin-left: 1rem; }
  .w-full { width: 100%; }
  .w-1\/3 { width: 33.333333%; }
  .w-2\/3 { width: 66.666667%; }
  .w-10 { width: 2.5rem; }
  .w-24 { width: 6rem; }
  .h-10 { height: 2.5rem; }
  .h-24 { height: 6rem; }
  .h-48 { height: 12rem; }
  .p-4 { padding: 1rem; }
  .p-6 { padding: 1.5rem; }
  .px-4 { padding-left: 1rem; padding-right: 1rem; }
  .py-2 { padding-top: 0.5rem; padding-bottom: 0.5rem; }
  .py-8 { padding-top: 2rem; padding-bottom: 2rem; }
  .py-12 { padding-top: 3rem; padding-bottom: 3rem; }
  .px-3 { padding-left: 0.75rem; padding-right: 0.75rem; }
  .py-1 { padding-top: 0.25rem; padding-bottom: 0.25rem; }
  .mr-3 { margin-right: 0.75rem; }
  .mb-1 { margin-bottom: 0.25rem; }
  .mb-2 { margin-bottom: 0.5rem; }
  .mb-3 { margin-bottom: 0.75rem; }
  .mb-6 { margin-bottom: 1.5rem; }
  .mb-12 { margin-bottom: 3rem; }
  .mt-2 { margin-top: 0.5rem; }
  .mt-3 { margin-top: 0.75rem; }
  .mt-6 { margin-top: 1.5rem; }
  .bg-white { background-color: #fff; }
  .bg-gray-50 { background-color: #f9fafb; }
  .bg-gray-100 { background-color: #f3f4f6; }
  .bg-gray-700 { background-color: #374151; }
  .bg-opacity-10 { --tw-bg-opacity: 0.1; }
  .bg-opacity-20 { --tw-bg-opacity: 0.2; }
  .bg-opacity-30 { --tw-bg-opacity: 0.3; }
  .rounded-lg { border-radius: 0.5rem; }
  .rounded-xl { border-radius: 0.75rem; }
  .rounded-full { border-radius: 9999px; }
  .border-l-4 { border-left-width: 4px; }
  .shadow-lg { box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05); }
  .shadow-md { box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); }
  .overflow-hidden { overflow: hidden; }
  .cursor-pointer { cursor: pointer; }
  .text-center { text-align: center; }
  .text-lg { font-size: 1.125rem; line-height: 1.75rem; }
  .text-xl { font-size: 1.25rem; line-height: 1.75rem; }
  .text-2xl { font-size: 1.5rem; line-height: 2rem; }
  .text-4xl { font-size: 2.25rem; line-height: 2.5rem; }
  .text-5xl { font-size: 3rem; line-height: 1; }
  .text-sm { font-size: 0.875rem; line-height: 1.25rem; }
  .font-bold { font-weight: 700; }
  .font-semibold { font-weight: 600; }
  .font-sans { font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji"; }
  .text-gray-600 { color: #4b5563; }
  .text-gray-700 { color: #374151; }
  .text-gray-800 { color: #1f2937; }
  .text-gray-500 { color: #6b7280; }
  .text-gray-400 { color: #9ca3af; }
  .hidden { display: none; }
  .grid { display: grid; }
  .grid-cols-1 { grid-template-columns: repeat(1, minmax(0, 1fr)); }
  .grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  .gap-6 { gap: 1.5rem; }
  .gap-2 { gap: 0.5rem; }
  .flex-wrap { flex-wrap: wrap; }
  .max-w-md { max-width: 28rem; }
  .opacity-0 { opacity: 0; }
  .opacity-100 { opacity: 1; }
  .hover\:bg-opacity-20:hover { --tw-bg-opacity: 0.2; }

  @media (min-width: 640px) {
    .sm\:grid-cols-2 { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  }

  @media (min-width: 1024px) {
    .lg\:grid-cols-3 { grid-template-columns: repeat(3, minmax(0, 1fr)); }
  }

  @media (min-width: 768px) {
    .md\:flex-row { flex-direction: row; }
    .md\:w-1\/3 { width: 33.333333%; }
    .md\:w-2\/3 { width: 66.666667%; }
  }

  .bg-gradient-to-b { background-image: linear-gradient(to bottom, var(--tw-gradient-stops)); }
  .from-gray-50 { --tw-gradient-from: #f9fafb; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(249, 250, 251, 0)); }
  .to-gray-100 { --tw-gradient-to: #f3f4f6; }
</style>

<div class="color-{{ section.settings.color_scheme }} gradient">
  <div class="five-elements-display page-width section-{{ section.id }}-padding isolate{% if settings.animations_reveal_on_scroll %} scroll-trigger animate--slide-in{% endif %}">
    <h2 class="five-elements-display__heading inline-richtext {{ section.settings.heading_size }}">
      {{ section.settings.heading }}
    </h2>
    
    <div class="main-container flex flex-col md:flex-row bg-white rounded-xl shadow-lg overflow-hidden mt-6">
      <!-- Left Panel - Elements -->
      <div class="elements-panel w-full md:w-1/3 p-6 bg-gradient-to-b from-gray-50 to-gray-100 flex flex-col space-y-4">
        <div class="element-box bg-white p-4 rounded-lg border-l-4 border-metal cursor-pointer" 
             data-element="metal">
          <div class="flex items-center">
            <div class="element-icon text-metal mr-3">
              <i class="fas fa-gem"></i>
            </div>
            <div>
              <h3 class="font-bold text-lg">金 (Metal)</h3>
              <p class="text-sm text-gray-600">代表财富、坚固和精确</p>
            </div>
          </div>
          <!-- Metal categories dropdown -->
          <div class="category-tags">
            <span class="category-tag bg-metal bg-opacity-10 text-metal" data-category="珠宝首饰">珠宝首饰</span>
            <span class="category-tag bg-metal bg-opacity-10 text-metal" data-category="金属工艺品">金属工艺品</span>
            <span class="category-tag bg-metal bg-opacity-10 text-metal" data-category="贵金属投资">贵金属投资</span>
            <span class="category-tag bg-metal bg-opacity-10 text-metal" data-category="手表钟表">手表钟表</span>
          </div>
        </div>

        <div class="element-box bg-white p-4 rounded-lg border-l-4 border-wood cursor-pointer" 
             data-element="wood">
          <div class="flex items-center">
            <div class="element-icon text-wood mr-3">
              <i class="fas fa-leaf"></i>
            </div>
            <div>
              <h3 class="font-bold text-lg">木 (Wood)</h3>
              <p class="text-sm text-gray-600">象征生长、创造和活力</p>
            </div>
          </div>
          <!-- Wood categories dropdown -->
          <div class="category-tags">
            <span class="category-tag bg-wood bg-opacity-10 text-wood" data-category="木制家具">木制家具</span>
            <span class="category-tag bg-wood bg-opacity-10 text-wood" data-category="绿植盆栽">绿植盆栽</span>
            <span class="category-tag bg-wood bg-opacity-10 text-wood" data-category="环保用品">环保用品</span>
            <span class="category-tag bg-wood bg-opacity-10 text-wood" data-category="文房四宝">文房四宝</span>
          </div>
        </div>

        <div class="element-box bg-white p-4 rounded-lg border-l-4 border-water cursor-pointer" 
             data-element="water">
          <div class="flex items-center">
            <div class="element-icon text-water mr-3">
              <i class="fas fa-tint"></i>
            </div>
            <div>
              <h3 class="font-bold text-lg">水 (Water)</h3>
              <p class="text-sm text-gray-600">代表流动、智慧和适应</p>
            </div>
          </div>
          <!-- Water categories dropdown -->
          <div class="category-tags">
            <span class="category-tag bg-water bg-opacity-10 text-water" data-category="玻璃器皿">玻璃器皿</span>
            <span class="category-tag bg-water bg-opacity-10 text-water" data-category="水族用品">水族用品</span>
            <span class="category-tag bg-water bg-opacity-10 text-water" data-category="清洁用品">清洁用品</span>
            <span class="category-tag bg-water bg-opacity-10 text-water" data-category="香薰精油">香薰精油</span>
          </div>
        </div>

        <div class="element-box bg-white p-4 rounded-lg border-l-4 border-fire cursor-pointer" 
             data-element="fire">
          <div class="flex items-center">
            <div class="element-icon text-fire mr-3">
              <i class="fas fa-fire"></i>
            </div>
            <div>
              <h3 class="font-bold text-lg">火 (Fire)</h3>
              <p class="text-sm text-gray-600">象征热情、能量和变革</p>
            </div>
          </div>
          <!-- Fire categories dropdown -->
          <div class="category-tags">
            <span class="category-tag bg-fire bg-opacity-10 text-fire" data-category="辣椒制品">辣椒制品</span>
            <span class="category-tag bg-fire bg-opacity-10 text-fire" data-category="香薰蜡烛">香薰蜡烛</span>
            <span class="category-tag bg-fire bg-opacity-10 text-fire" data-category="红色服饰">红色服饰</span>
            <span class="category-tag bg-fire bg-opacity-10 text-fire" data-category="热饮茶品">热饮茶品</span>
          </div>
        </div>

        <div class="element-box bg-white p-4 rounded-lg border-l-4 border-earth cursor-pointer" 
             data-element="earth">
          <div class="flex items-center">
            <div class="element-icon text-earth mr-3">
              <i class="fas fa-mountain"></i>
            </div>
            <div>
              <h3 class="font-bold text-lg">土 (Earth)</h3>
              <p class="text-sm text-gray-600">代表稳定、滋养和基础</p>
            </div>
          </div>
          <!-- Earth categories dropdown -->
          <div class="category-tags">
            <span class="category-tag bg-earth bg-opacity-10 text-earth" data-category="陶瓷器皿">陶瓷器皿</span>
            <span class="category-tag bg-earth bg-opacity-10 text-earth" data-category="有机食品">有机食品</span>
            <span class="category-tag bg-earth bg-opacity-10 text-earth" data-category="家居装饰">家居装饰</span>
            <span class="category-tag bg-earth bg-opacity-10 text-earth" data-category="养生保健">养生保健</span>
          </div>
        </div>
      </div>

      <!-- Right Panel - Products -->
      <div class="products-panel w-full md:w-2/3 p-6">
        <!-- Default Message -->
        <div id="default-message" class="h-full flex flex-col items-center justify-center text-center py-12">
          <div class="w-24 h-24 bg-gray-100 rounded-full flex items-center justify-center mb-6">
            <i class="fas fa-hand-pointer text-4xl text-gray-400"></i>
          </div>
          <h3 class="text-2xl font-bold text-gray-700 mb-2">选择五行元素</h3>
          <p class="text-gray-500 max-w-md">将鼠标悬停在左侧的元素上，查看相关产品集合</p>
        </div>

        <!-- Metal Products -->
        <div id="metal-products" class="product-panel hidden opacity-0">
          <div class="flex items-center mb-6">
            <div class="w-10 h-10 bg-metal bg-opacity-20 rounded-full flex items-center justify-center mr-3">
              <i class="fas fa-gem text-metal"></i>
            </div>
            <h2 class="text-2xl font-bold text-metal">金属产品</h2>
          </div>
          <div class="mb-6">
            <h3 class="text-lg font-semibold text-gray-700 mb-3">产品分类</h3>
            <div class="flex space-x-4 product-categories">
              <span class="px-4 py-2 bg-metal bg-opacity-10 text-metal rounded-full cursor-pointer hover:bg-opacity-20">珠宝首饰</span>
              <span class="px-4 py-2 bg-metal bg-opacity-10 text-metal rounded-full cursor-pointer hover:bg-opacity-20">金属工艺品</span>
              <span class="px-4 py-2 bg-metal bg-opacity-10 text-metal rounded-full cursor-pointer hover:bg-opacity-20">贵金属投资</span>
              <span class="px-4 py-2 bg-metal bg-opacity-10 text-metal rounded-full cursor-pointer hover:bg-opacity-20">手表钟表</span>
            </div>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-metal bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-bracelet text-5xl text-metal"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">纯金手链</h3>
                <p class="text-gray-600 text-sm mb-2">18K金，精致工艺</p>
                <p class="text-metal font-bold">¥1,288</p>
              </div>
            </div>
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-metal bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-pendant text-5xl text-metal"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">翡翠吊坠</h3>
                <p class="text-gray-600 text-sm mb-2">天然A货翡翠，925银托</p>
                <p class="text-metal font-bold">¥888</p>
              </div>
            </div>
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-metal bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-chess-knight text-5xl text-metal"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">檀木象棋</h3>
                <p class="text-gray-600 text-sm mb-2">手工雕刻，金属包边</p>
                <p class="text-metal font-bold">¥328</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Wood Products -->
        <div id="wood-products" class="product-panel hidden opacity-0">
          <div class="flex items-center mb-6">
            <div class="w-10 h-10 bg-wood bg-opacity-20 rounded-full flex items-center justify-center mr-3">
              <i class="fas fa-leaf text-wood"></i>
            </div>
            <h2 class="text-2xl font-bold text-wood">木系产品</h2>
          </div>
          <div class="mb-6">
            <h3 class="text-lg font-semibold text-gray-700 mb-3">产品分类</h3>
            <div class="flex space-x-4 product-categories">
              <span class="px-4 py-2 bg-wood bg-opacity-10 text-wood rounded-full cursor-pointer hover:bg-opacity-20">木制家具</span>
              <span class="px-4 py-2 bg-wood bg-opacity-10 text-wood rounded-full cursor-pointer hover:bg-opacity-20">绿植盆栽</span>
              <span class="px-4 py-2 bg-wood bg-opacity-10 text-wood rounded-full cursor-pointer hover:bg-opacity-20">环保用品</span>
              <span class="px-4 py-2 bg-wood bg-opacity-10 text-wood rounded-full cursor-pointer hover:bg-opacity-20">文房四宝</span>
            </div>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-wood bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-tree text-5xl text-wood"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">实木茶盘</h3>
                <p class="text-gray-600 text-sm mb-2">天然黑胡桃木，手工雕刻</p>
                <p class="text-wood font-bold">¥328</p>
              </div>
            </div>
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-wood bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-spa text-5xl text-wood"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">绿植盆栽</h3>
                <p class="text-gray-600 text-sm mb-2">净化空气，美化环境</p>
                <p class="text-wood font-bold">¥88</p>
              </div>
            </div>
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-wood bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-book text-5xl text-wood"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">竹制笔记本</h3>
                <p class="text-gray-600 text-sm mb-2">环保材质，书写顺滑</p>
                <p class="text-wood font-bold">¥45</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Water Products -->
        <div id="water-products" class="product-panel hidden opacity-0">
          <div class="flex items-center mb-6">
            <div class="w-10 h-10 bg-water bg-opacity-20 rounded-full flex items-center justify-center mr-3">
              <i class="fas fa-tint text-water"></i>
            </div>
            <h2 class="text-2xl font-bold text-water">水系产品</h2>
          </div>
          <div class="mb-6">
            <h3 class="text-lg font-semibold text-gray-700 mb-3">产品分类</h3>
            <div class="flex space-x-4 product-categories">
              <span class="px-4 py-2 bg-water bg-opacity-10 text-water rounded-full cursor-pointer hover:bg-opacity-20">玻璃器皿</span>
              <span class="px-4 py-2 bg-water bg-opacity-10 text-water rounded-full cursor-pointer hover:bg-opacity-20">水族用品</span>
              <span class="px-4 py-2 bg-water bg-opacity-10 text-water rounded-full cursor-pointer hover:bg-opacity-20">清洁用品</span>
              <span class="px-4 py-2 bg-water bg-opacity-10 text-water rounded-full cursor-pointer hover:bg-opacity-20">香薰精油</span>
            </div>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-water bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-wine-glass-alt text-5xl text-water"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">玻璃茶具套装</h3>
                <p class="text-gray-600 text-sm mb-2">高硼硅玻璃，耐热防爆</p>
                <p class="text-water font-bold">¥198</p>
              </div>
            </div>
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-water bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-fish text-5xl text-water"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">海水鱼缸</h3>
                <p class="text-gray-600 text-sm mb-2">完整生态系统，观赏性强</p>
                <p class="text-water font-bold">¥1,288</p>
              </div>
            </div>
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-water bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-spa text-5xl text-water"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">精油香薰</h3>
                <p class="text-gray-600 text-sm mb-2">海洋香调，舒缓身心</p>
                <p class="text-water font-bold">¥128</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Fire Products -->
        <div id="fire-products" class="product-panel hidden opacity-0">
          <div class="flex items-center mb-6">
            <div class="w-10 h-10 bg-fire bg-opacity-20 rounded-full flex items-center justify-center mr-3">
              <i class="fas fa-fire text-fire"></i>
            </div>
            <h2 class="text-2xl font-bold text-fire">火系产品</h2>
          </div>
          <div class="mb-6">
            <h3 class="text-lg font-semibold text-gray-700 mb-3">产品分类</h3>
            <div class="flex space-x-4 product-categories">
              <span class="px-4 py-2 bg-fire bg-opacity-10 text-fire rounded-full cursor-pointer hover:bg-opacity-20">辣椒制品</span>
              <span class="px-4 py-2 bg-fire bg-opacity-10 text-fire rounded-full cursor-pointer hover:bg-opacity-20">香薰蜡烛</span>
              <span class="px-4 py-2 bg-fire bg-opacity-10 text-fire rounded-full cursor-pointer hover:bg-opacity-20">红色服饰</span>
              <span class="px-4 py-2 bg-fire bg-opacity-10 text-fire rounded-full cursor-pointer hover:bg-opacity-20">热饮茶品</span>
            </div>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-fire bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-mug-hot text-5xl text-fire"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">辣椒酱礼盒</h3>
                <p class="text-gray-600 text-sm mb-2">五种辣度，挑战味蕾</p>
                <p class="text-fire font-bold">¥98</p>
              </div>
            </div>
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-fire bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-candle-holder text-5xl text-fire"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">香薰蜡烛</h3>
                <p class="text-gray-600 text-sm mb-2">天然大豆蜡，持久燃烧</p>
                <p class="text-fire font-bold">¥68</p>
              </div>
            </div>
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-fire bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-tshirt text-5xl text-fire"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">红色丝绸围巾</h3>
                <p class="text-gray-600 text-sm mb-2">100%桑蚕丝，喜庆吉祥</p>
                <p class="text-fire font-bold">¥258</p>
              </div>
            </div>
          </div>
        </div>

        <!-- Earth Products -->
        <div id="earth-products" class="product-panel hidden opacity-0">
          <div class="flex items-center mb-6">
            <div class="w-10 h-10 bg-earth bg-opacity-20 rounded-full flex items-center justify-center mr-3">
              <i class="fas fa-mountain text-earth"></i>
            </div>
            <h2 class="text-2xl font-bold text-earth">土系产品</h2>
          </div>
          <div class="mb-6">
            <h3 class="text-lg font-semibold text-gray-700 mb-3">产品分类</h3>
            <div class="flex space-x-4 product-categories">
              <span class="px-4 py-2 bg-earth bg-opacity-10 text-earth rounded-full cursor-pointer hover:bg-opacity-20">陶瓷器皿</span>
              <span class="px-4 py-2 bg-earth bg-opacity-10 text-earth rounded-full cursor-pointer hover:bg-opacity-20">有机食品</span>
              <span class="px-4 py-2 bg-earth bg-opacity-10 text-earth rounded-full cursor-pointer hover:bg-opacity-20">家居装饰</span>
              <span class="px-4 py-2 bg-earth bg-opacity-10 text-earth rounded-full cursor-pointer hover:bg-opacity-20">养生保健</span>
            </div>
          </div>
          <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-earth bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-mug text-5xl text-earth"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">紫砂茶壶</h3>
                <p class="text-gray-600 text-sm mb-2">宜兴原矿，手工制作</p>
                <p class="text-earth font-bold">¥388</p>
              </div>
            </div>
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-earth bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-seedling text-5xl text-earth"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">有机五谷杂粮</h3>
                <p class="text-gray-600 text-sm mb-2">无添加，营养丰富</p>
                <p class="text-earth font-bold">¥58</p>
              </div>
            </div>
            <div class="product-card bg-white rounded-lg overflow-hidden shadow-md">
              <div class="h-48 bg-earth bg-opacity-10 flex items-center justify-center">
                <i class="fas fa-chess-rook text-5xl text-earth"></i>
              </div>
              <div class="p-4">
                <h3 class="font-bold text-lg mb-1">陶瓷摆件</h3>
                <p class="text-gray-600 text-sm mb-2">手工陶艺，家居装饰</p>
                <p class="text-earth font-bold">¥168</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    // Add event listeners to element boxes
    document.querySelectorAll('.element-box').forEach(box => {
      box.addEventListener('mouseenter', function() {
        const element = this.dataset.element;
        showProducts(element);
      });
    });

    function showProducts(element) {
      // Hide all product panels and default message
      document.querySelectorAll('.product-panel').forEach(panel => {
        panel.classList.add('hidden');
        panel.classList.remove('opacity-100');
        panel.classList.add('opacity-0');
      });
      document.getElementById('default-message').classList.add('hidden');

      // Show the selected product panel
      const productPanel = document.getElementById(`${element}-products`);
      if (productPanel) {
        productPanel.classList.remove('hidden');
        setTimeout(() => {
          productPanel.classList.remove('opacity-0');
          productPanel.classList.add('opacity-100');
        }, 10);
      }
    }

    // Add event listeners for category tags in dropdown
    document.querySelectorAll('.category-tag').forEach(tag => {
      tag.addEventListener('click', function(e) {
        e.stopPropagation(); // Prevent event bubbling
        const element = this.closest('.element-box').dataset.element;
        const category = this.dataset.category;
        filterProducts(element, category);
      });
    });

    // Add event listeners for category spans in product panels
    document.querySelectorAll('.product-categories span').forEach(span => {
      span.addEventListener('click', function() {
        const element = this.closest('.product-panel').id.replace('-products', '');
        const category = this.textContent;
        filterProducts(element, category);
      });
    });

    function filterProducts(element, category) {
      // Show all products for the element first
      showProducts(element);
      
      // Get all product cards in the current element panel
      const productCards = document.querySelectorAll(`#${element}-products .product-card`);
      
      // Filter and show only matching category
      productCards.forEach(card => {
        const cardText = card.querySelector('h3').textContent;
        const cardCategory = card.querySelector('.text-gray-600').textContent;
        
        if (cardCategory.includes(category) || cardText.includes(category)) {
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
      
      // Update the category display in the header
      const categorySpans = document.querySelectorAll(`#${element}-products .product-categories span`);
      categorySpans.forEach(span => {
        if (span.textContent === category) {
          span.classList.add('bg-opacity-30');
          span.classList.add('font-semibold');
        } else {
          span.classList.remove('bg-opacity-30');
          span.classList.remove('font-semibold');
        }
      });
    }

    // Add event listeners for reset buttons
    document.querySelectorAll('.reset-filter').forEach(button => {
      button.addEventListener('click', function() {
        const element = this.closest('.product-panel').id.replace('-products', '');
        showProducts(element);
        
        // Show all product cards
        const productCards = document.querySelectorAll(`#${element}-products .product-card`);
        productCards.forEach(card => {
          card.style.display = 'block';
        });
      });
    });
  });
</script>

{% schema %}
{
  "name": "五行元素产品展示",
  "tag": "section",
  "class": "section",
  "settings": [
    {
      "type": "inline_richtext",
      "id": "heading",
      "default": "五行元素产品展示",
      "label": "标题"
    },
    {
      "type": "select",
      "id": "heading_size",
      "options": [
        {
          "value": "h2",
          "label": "H2"
        },
        {
          "value": "h1",
          "label": "H1"
        },
        {
          "value": "h0",
          "label": "H0"
        },
        {
          "value": "hxl",
          "label": "HXL"
        },
        {
          "value": "hxxl",
          "label": "HXXL"
        }
      ],
      "default": "h1",
      "label": "标题大小"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "颜色方案",
      "info": "影响背景和文本颜色",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "元素设置"
    },
    {
      "type": "collection",
      "id": "metal_collection",
      "label": "金元素产品集合"
    },
    {
      "type": "collection",
      "id": "wood_collection",
      "label": "木元素产品集合"
    },
    {
      "type": "collection",
      "id": "water_collection",
      "label": "水元素产品集合"
    },
    {
      "type": "collection",
      "id": "fire_collection",
      "label": "火元素产品集合"
    },
    {
      "type": "collection",
      "id": "earth_collection",
      "label": "土元素产品集合"
    },
    {
      "type": "header",
      "content": "边距设置"
    },
    {
      "type": "range",
      "id": "padding_top",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "上边距",
      "default": 36
    },
    {
      "type": "range",
      "id": "padding_bottom",
      "min": 0,
      "max": 100,
      "step": 4,
      "unit": "px",
      "label": "下边距",
      "default": 36
    }
  ],
  "presets": [
    {
      "name": "五行元素产品展示",
      "category": "Custom"
    }
  ]
}
{% endschema %}
